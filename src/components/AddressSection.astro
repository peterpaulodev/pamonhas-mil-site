---
const { title = "Onde nos encontrar" } = Astro.props;

// Dados dos endereços
const enderecos = [
  {
    nome: "Matriz - Centro",
    endereco: "Rua das Pamonhas, 123 - Centro",
    cidade: "Belo Horizonte/MG",
    telefone: "(31) 98765-4321",
    horario: "Ter a Dom - 08:00 às 18:00",
    mapa: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3750.840047632184!2d-43.93819092435548!3d-19.92499698152694!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xa6999ed5daaae5%3A0xe46e5b6b478d9e3e!2sPra%C3%A7a%20da%20Esta%C3%A7%C3%A3o%20-%20Centro%2C%20Belo%20Horizonte%20-%20MG!5e0!3m2!1spt-BR!2sbr!4v1633024000000!5m2!1spt-BR!2sbr"
  },
  {
    nome: "Filial - Savassi",
    endereco: "Av. do Contorno, 5000 - Funcionários",
    cidade: "Belo Horizonte/MG",
    telefone: "(31) 98765-4322",
    horario: "Ter a Dom - 09:00 às 20:00",
    mapa: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3750.840047632184!2d-43.93819092435548!3d-19.92499698152694!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xa6999ed5daaae5%3A0xe46e5b6b478d9e3e!2sPra%C3%A7a%20da%20Esta%C3%A7%C3%A3o%20-%20Centro%2C%20Belo%20Horizonte%20-%20MG!5e0!3m2!1spt-BR!2sbr!4v1633024000000!5m2!1spt-BR!2sbr"
  }
];
---

<section class="bs-container py-12 md:py-16 lg:py-20" id="enderecos">
  <!-- Cabeçalho -->
  <div class="text-center mb-12">
    <h2 class="text-3xl md:text-4xl font-bold text-bs-text mb-4">{title}</h2>
    <div class="w-20 h-1 bg-[#7e172a] mx-auto mb-4"></div>
    <p class="text-lg text-bs-text-muted max-w-3xl mx-auto">
      Visite uma de nossas lojas e experimente nossas delícias feitas na hora!
    </p>
  </div>

  <!-- Grid de Endereços -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 px-4">
    {enderecos.map((local, index) => (
      <div
        class="bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl"
        data-aos="fade-up"
        data-aos-delay={index * 100}
      >
        <div class="h-64 w-full overflow-hidden">
          <iframe
            class="w-full h-full border-0"
            loading="lazy"
            allowfullscreen
            src={local.mapa}
            title={`Mapa da localização: ${local.nome}`}
            aria-label={local.nome}
          ></iframe>
        </div>

        <div class="p-6">
          <h3 class="text-xl font-bold text-[#7e172a] mb-2">{local.nome}</h3>

          <div class="space-y-2 text-gray-600">
            <div class="flex items-start">
              <svg class="w-5 h-5 text-[#7e172a] mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
              <div>
                <p>{local.endereco}</p>
                <p>{local.cidade}</p>
              </div>
            </div>

            <div class="flex items-center">
              <svg class="w-5 h-5 text-[#7e172a] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              <a href={`tel:${local.telefone.replace(/\D/g, '')}`} class="hover:text-[#7e172a] transition-colors">
                {local.telefone}
              </a>
            </div>

            <div class="flex items-center">
              <svg class="w-5 h-5 text-[#7e172a] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
              <span>{local.horario}</span>
            </div>
          </div>

          <a
            href={local.mapa.replace('embed', 'search')}
            target="_blank"
            rel="noopener noreferrer"
            class="mt-4 inline-flex items-center text-[#7e172a] font-medium hover:underline"
          >
            Ver rota no mapa
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
            </svg>
          </a>
        </div>
      </div>
    ))}
  </div>
</section>

<style>
  /* Estilos para o iframe do mapa */
  iframe {
    filter: grayscale(20%) contrast(1.1) saturate(0.9);
    transition: filter 0.3s ease;
  }

  .hover\\:shadow-xl:hover iframe {
    filter: grayscale(0%) contrast(1) saturate(1.1);
  }
</style>